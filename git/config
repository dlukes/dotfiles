# See e.g. "GitHub, f*ck your name change." (https://archive.ph/DGJDP).
# This config change was actually prompted by Git in turn now
# considering the same switch and spewing a warning each time I init a
# new repo unless I set this explicitly. But the same commentary
# applies.
[init]
  defaultBranch = master

[user]
  name = David Lukes
  email = dafydd.lukes@gmail.com
[sendemail]
  smtpserver = smtp.gmail.com
  smtpuser = dafydd.lukes@gmail.com
  smtppass = xxx
  smtpencryption = tls
  smtpserverport = 587
  # Create an app password <https://security.google.com/settings/security/apppasswords>,
  # paste it here as smtppass = xxx, send the patch, revert the paste and *revoke the
  # password*, so that even if you accidentally commit it, you don't give the keys to
  # your Google account to anyone on the internet, which is a bad ideaâ„¢. Alternatively,
  # you can keep it around indefinitely in a separate config file which is included but
  # kept private:
[include]
  path = ~/Desktop/data/git_config_private
  path = ~/.config/git/local

[core]
  quotepath = off
[color]
  ui = auto
[push]
  default = simple
  recurseSubmodules = check
[pull]
  rebase = true
[rebase]
  autosquash = true
[status]
  submodulesummary = true
[submodule]
  recurse = true
[credential]
  helper = cache
[help]
  autocorrect = 3

[alias]
  ll = log --pretty='%C(yellow)%h %C(blue)%ad %Cgreen%aN%C(auto)%d %Creset%s' --date=relative --date-order --graph
  # Alias suggestions from https://git-scm.com/book/en/v2/Git-Tools-Submodules to ease
  # working with submodules.
  sdiff = !git diff && git submodule foreach 'git diff'
  spush = push --recurse-submodules=on-demand
  supdate = submodule update --remote --merge

# Custom diff definitions. If necessary, the cache can be cleared
# manually with `git update-ref -d refs/notes/textconv/pandoc`. Default
# filetype associations can be set up in ./attributes and disabled via
# --no-textconv.
[diff "pandoc"]
  textconv = pandoc --to=markdown
  cachetextconv = true
[diff "ipynb"]
  textconv = jupytext --to markdown -o -
  cachetextconv = true

# Merging
[diff]
  tool = vimdiff
  submodule = log
  wsErrorHighlight = all
[difftool "vimdiff"]
  path = nvim
[merge]
  tool = vimdiff
  conflictstyle = diff3
[mergetool "vimdiff"]
  path = nvim

# LFS
[filter "lfs"]
  clean = git-lfs clean -- %f
  smudge = git-lfs smudge -- %f
  process = git-lfs filter-process
  required = true

# vi: ft=gitconfig
